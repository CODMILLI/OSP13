<?php
include "/db.php"; ?>

<DOCTYPE HTML5>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/member.css">
  </head>
  <script language="javascript">
     function validate() {
         var re = /^[a-zA-Z0-9]{6,12}$/ // 아이디와 패스워드가 적합한지 검사할 정규식
         var re2 = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;
         // 이메일이 적합한지 검사할 정규식

         var id = document.getElementById("id");
         var pw = document.getElementById("pw");
         var em = document.getElementById("em");


         if(!check(re,id,"아이디는 6~12자의 영문 대소문자와 숫자로만 입력해주세요")) {
             return false;
         }

         if(!check(re,pw,"패스워드는 6~12자의 영문 대소문자와 숫자로만 입력해주세요")) {
             return false;
         }


         if(em.value=="") {
             alert("이메일을 입력해 주세요");
             em.focus();
             return false;
         }

         if(!check(re2, em, "올바르지 않은 이메일 형식입니다.")) {
             return false;
         }


        alert('가입완료 되었습니다!');

      function check(re, what, message) {
       if(re.test(what.value)) {
           return true;
       }
       alert(message);
       what.value = "";
       what.focus();
      }
   }

 </script>

  <body width="100%" height="100%">
        <form action="member_ok.php" method="post" class="adminForm">
          <fieldset>
            <legend><b>회원가입 양식</b> </legend>
            
        <div class="idForm">
            <p><label for="id">아이디: </label>
            <input id = "id" class="id" type="text" name="userid"></p>
          </div>
          <div class="passForm">
            <p><label for="pw">패스워드: </label>
            <input id = "pw" class="pw" type="password" name="userpw"></p>
          </div>
          <div class="emailForm">
            <p><label for="em">이메일: </label>
            <input id = "em" class="em" type="email" name="useremail"></p>
          </div>
          <div class="birthForm">
            <p><label for="bt">생년월일: </label>
            <input id = "bt" class="bt" type="date" name="userdate"></p>
          </div>
          <br>
          <button class="btn" type="button" onclick="validate()">
            회원가입
          </button>
            
    <!-- script part -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-firestore.js"></script>

    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyCdgm-GsL3PSBJeiJdDXvpQ6Wvu12MChOo",
        authDomain: "osp13-35ad5.firebaseapp.com",
        projectId: "osp13-35ad5",
        storageBucket: "osp13-35ad5.appspot.com",
        messagingSenderId: "92580841928",
        appId: "1:92580841928:web:8013e99ea0e7c2a41858fd"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
    </script>
    <script src="js/signup.js"></script>
  </body>
</html>
